<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Shakh Tashkentski | IT SHAKH</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">

<style>
:root {
  --bg:#04060b; --card:#0b1220; --text:#e5e7eb; --muted:#9ca3af; --accent:#38bdf8;
  --glow:0 0 45px rgba(56,189,248,.85);
}
* { box-sizing:border-box; }
body {
  margin:0; font-family:Inter,system-ui,sans-serif; background:#020409; color:var(--text); overflow-x:hidden;
}

/* LION BACKGROUND */
.lion-bg {
  position:fixed; inset:0; background:url("lion-bg.png") center/cover no-repeat;
  opacity:.22; z-index:-3; animation:lionFloat 22s ease-in-out infinite;
}
@keyframes lionFloat {
  0%, 100% { transform:scale(1) translateY(0); }
  50% { transform:scale(1.06) translateY(-30px); }
}

body::before {
  content:""; position:fixed; inset:0;
  background: radial-gradient(circle at top, rgba(56,189,248,.2), transparent 55%),
              linear-gradient(to bottom, rgba(0,0,0,.7), rgba(0,0,0,.9));
  z-index:-2;
}

header {
  position:fixed; top:0; left:0; right:0; padding:18px 40px;
  background:rgba(4,6,11,.7); backdrop-filter:blur(14px); z-index:100;
}
header h1 { font-size:14px; letter-spacing:4px; color:var(--accent); }

/* HERO */
.hero { min-height:100vh; display:flex; align-items:center; justify-content:center; padding-top:120px; }
.hero-box { max-width:1200px; display:grid; grid-template-columns:1fr 1fr; gap:60px; align-items:center; padding:40px; }
.hero h2 { font-size:clamp(38px,5vw,62px); font-weight:800; }
.hero span { color:var(--accent); text-shadow:var(--glow); }
.hero p { color:var(--muted); font-size:18px; margin-top:20px; }

/* RING & VISUALIZER */
.logo-wrap { position:relative; display:flex; justify-content:center; align-items:center; }
#visualizer-canvas {
  position:absolute; width:550px; height:550px; z-index:-1;
}
.ring {
  position:relative; width:440px; height:440px; border-radius:50%;
  display:flex; align-items:center; justify-content:center;
  animation:ringRotate 20s linear infinite;
}
.ring::before {
  content:""; position:absolute; inset:-6px; border-radius:50%;
  background:conic-gradient(#00eaff, #7c4dff, #ff4edb, #ff9800, #00ff95, #00eaff);
  filter:blur(10px); z-index:-2;
}
.ring::after {
  content:""; position:absolute; inset:6px; border-radius:50%; background:#020409; z-index:-1;
}
@keyframes ringRotate { from{transform:rotate(0)} to{transform:rotate(360deg)} }

.logo {
  width:340px; height:340px; border-radius:50%;
  background:radial-gradient(circle,#0b1220,#020409);
  display:flex; align-items:center; justify-content:center;
  animation:logoBreath 4s ease-in-out infinite;
}
@keyframes logoBreath { 0%, 100% {transform:scale(1)} 50% {transform:scale(1.07)} }
.logo img { width:170%; height:170%; object-fit:contain; filter:drop-shadow(0 0 45px rgba(56,189,248,1)); }

/* LYRICS TEXT */
#lyrics-container {
  position: absolute; bottom: -60px; width: 100%; text-align: center;
  font-size: 22px; font-weight: 600; color: #fff;
  text-shadow: 0 0 10px var(--accent), 0 0 20px var(--accent);
  min-height: 30px; transition: all 0.5s ease;
}

/* SECTIONS */
section { max-width:1200px; margin:auto; padding:120px 40px; text-align:center; }
.equalizer { display:flex; justify-content:center; align-items:flex-end; height:180px; gap:12px; margin-bottom:60px; }
.bar { width:12px; height:30px; background:linear-gradient(to top,#00eaff,#ff4edb); border-radius:10px; box-shadow:0 0 20px rgba(0,234,255,.5); }

.tracks { display:grid; grid-template-columns:repeat(auto-fit,minmax(260px,1fr)); gap:30px; }
.track { background:var(--card); padding:30px; border-radius:26px; box-shadow:var(--glow); }
.track h4 { margin-bottom:15px; }
.track audio { width:100%; }

.socials { margin-top:90px; display:flex; justify-content:center; gap:30px; }
.socials a { width:56px; height:56px; border-radius:50%; background:var(--card); display:flex; align-items:center; justify-content:center; box-shadow:var(--glow); transition:.35s; }
.socials a:hover { transform:scale(1.25); }
.socials img { width:28px; }

footer { margin-top:120px; text-align:center; padding:40px; color:var(--muted); }

@media(max-width:900px) {
  .hero-box { grid-template-columns:1fr; text-align:center; }
  .ring { width:300px; height:300px; }
  .logo { width:230px; height:230px; }
  #visualizer-canvas { width:380px; height:380px; }
}
</style>
</head>
<body>

<div class="lion-bg"></div>

<header>
  <h1>SHAKH TASHKENTSKI</h1>
</header>

<section class="hero">
  <div class="hero-box">
    <div>
      <h2>IT & SHAKH<br><span>Senior computer specialist</span></h2>
      <p>We teach computers at a professional level</p>
    </div>
    <div class="logo-wrap">
      <canvas id="visualizer-canvas"></canvas>
      <div class="ring" id="ring">
        <div class="logo">
          <img src="logo.png" alt="Lion Logo">
        </div>
      </div>
      <div id="lyrics-container">Musiqani yoqing...</div>
    </div>
  </div>
</section>

<section>
  <h3>SHAKH BASS</h3>
  <p>Professional Music Shakh</p>

  <div class="equalizer">
    <div class="bar"></div><div class="bar"></div><div class="bar"></div>
    <div class="bar"></div><div class="bar"></div><div class="bar"></div>
    <div class="bar"></div><div class="bar"></div><div class="bar"></div>
    <div class="bar"></div>
  </div>

  <div class="tracks">
    <div class="track"><h4>Shakh Bass 1</h4><audio controls loop class="audio" data-track="1"><source src="music1.mp3"></audio></div>
    <div class="track"><h4>Shakh Bass 2</h4><audio controls loop class="audio" data-track="2"><source src="music2.mp3"></audio></div>
    <div class="track"><h4>Shakh Bass 3</h4><audio controls loop class="audio" data-track="3"><source src="music3.mp3"></audio></div>
    </div>

  <div class="socials">
    <a href="https://t.me/The_Only_One_Shakh" target="_blank"><img src="https://cdn-icons-png.flaticon.com/512/2111/2111646.png"></a>
    <a href="https://www.instagram.com/anonimshakh66" target="_blank"><img src="https://cdn-icons-png.flaticon.com/512/2111/2111463.png"></a>
    <a href="https://www.facebook.com/share/1DHz52PPyw/" target="_blank"><img src="https://cdn-icons-png.flaticon.com/512/733/733547.png"></a>
    <a href="https://www.youtube.com/channel/UCxnOATvbnPh5x6QRmJxtujg" target="_blank"><img src="https://cdn-icons-png.flaticon.com/512/1384/1384060.png"></a>
  </div>
</section>

<footer>© 2026 Shakh Tashkentski • IT SHAKH</footer>

<script>
const bars = document.querySelectorAll('.bar');
const audios = document.querySelectorAll('.audio');
const ring = document.getElementById('ring');
const canvas = document.getElementById('visualizer-canvas');
const ctxCanvas = canvas.getContext('2d');
const lyricsContainer = document.getElementById('lyrics-container');

let audioCtx, analyser, dataArray;
const sources = new Map();

// Lirik matnlar bazasi (Har bir trek uchun vaqtga qarab)
const lyricsData = {
  "1": [ {t: 0, m: "IT SHAKH Presents"}, {t: 5, m: "Tayyormisiz?"}, {t: 10, m: "Bassni his qiling!"} ],
  "2": [ {t: 0, m: "Tashkent City Vibe"}, {t: 6, m: "Shakh Bass Style"} ],
  "default": [ {t: 0, m: "Musiqa ijro etilmoqda..."}, {t: 5, m: "IT SHAKH - Professional daraja"} ]
};

function initAudio(audio) {
  if (!audioCtx) {
    audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    analyser = audioCtx.createAnalyser();
    analyser.fftSize = 256;
    dataArray = new Uint8Array(analyser.frequencyBinCount);
    setupCanvas();
    animate();
  }
  if (!sources.has(audio)) {
    const source = audioCtx.createMediaElementSource(audio);
    source.connect(analyser);
    analyser.connect(audioCtx.destination);
    sources.set(audio, source);
  }
}

function setupCanvas() {
  canvas.width = 550;
  canvas.height = 550;
}

audios.forEach(audio => {
  audio.addEventListener('play', () => {
    audios.forEach(a => { if (a !== audio) a.pause(); });
    initAudio(audio);
    if (audioCtx.state === 'suspended') audioCtx.resume();
  });
  
  audio.addEventListener('timeupdate', () => {
    const trackId = audio.getAttribute('data-track');
    const lyrics = lyricsData[trackId] || lyricsData['default'];
    const current = lyrics.filter(l => l.t <= audio.currentTime).pop();
    if (current) lyricsContainer.innerText = current.m;
  });
});

function animate() {
  requestAnimationFrame(animate);
  if (!analyser) return;
  analyser.getByteFrequencyData(dataArray);

  // 1. Equalizer Bars
  bars.forEach((bar, i) => {
    bar.style.height = Math.max(30, dataArray[i * 2]) + 'px';
  });

  // 2. Ring Bass Effect
  let bass = dataArray[2];
  ring.style.transform = `scale(${1 + bass / 550})`;
  ring.style.boxShadow = `0 0 ${bass/2}px rgba(56,189,248,0.8)`;

  // 3. Canvas Circular Visualizer
  ctxCanvas.clearRect(0, 0, canvas.width, canvas.height);
  const centerX = canvas.width / 2;
  const centerY = canvas.height / 2;
  const radius = 230;

  for (let i = 0; i < dataArray.length; i++) {
    const barHeight = dataArray[i] / 2.5;
    const angle = (i * 4 * Math.PI) / dataArray.length;
    const x1 = centerX + Math.cos(angle) * radius;
    const y1 = centerY + Math.sin(angle) * radius;
    const x2 = centerX + Math.cos(angle) * (radius + barHeight);
    const y2 = centerY + Math.sin(angle) * (radius + barHeight);

    ctxCanvas.strokeStyle = `hsl(${(i * 2) + 180}, 100%, 50%)`;
    ctxCanvas.lineWidth = 3;
    ctxCanvas.beginPath();
    ctxCanvas.moveTo(x1, y1);
    ctxCanvas.lineTo(x2, y2);
    ctxCanvas.stroke();
  }
}
</script>
</body>
</html>