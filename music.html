<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Music Shakh | IT SHAKH</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;800&display=swap" rel="stylesheet">
    <style>
        :root{ 
            --bg:#020409; --card:#0b1220; --accent:#38bdf8; --glow:0 0 35px rgba(56,189,248,.6); 
            --text-color: #fff;
            --header-bg: rgba(11,18,32,0.8);
        }
        body.night-mode {
            --bg: #000;
            --card: #030a00;
            --accent: #00ff41; 
            --glow: 0 0 35px rgba(0,255,65,.6);
            --text-color: #00ff41;
            --header-bg: rgba(0,0,0,0.9);
        }

        *{box-sizing: border-box;}
        body{ margin:0; background:var(--bg); color:var(--text-color); font-family:Inter, sans-serif; overflow-x:hidden; transition: background 0.5s, color 0.5s; }
        
        .matrix-overlay {
            position: fixed; inset: 0; z-index: -1;
            opacity: 0; transition: opacity 0.5s; pointer-events: none;
        }
        body.night-mode .matrix-overlay { opacity: 1; }
        #matrixCanvas { display: block; background: transparent; }

        header{ padding:20px 40px; display:flex; justify-content:space-between; align-items:center; background:var(--header-bg); backdrop-filter:blur(10px); position:fixed; top:0; width:100%; z-index:100; }
        .back-link{ color:var(--accent); text-decoration:none; font-weight:bold; letter-spacing:1px; }

        .main-content{ max-width:1300px; margin:110px auto 40px; padding:20px; display:grid; grid-template-columns:450px 1fr; gap:40px; align-items:start; }

        .viz-box{ position:sticky; top:120px; text-align:center; background:var(--card); padding:40px; border-radius:30px; box-shadow:var(--glow); border: 1px solid rgba(255,255,255,0.05); }
        
        .ring{ width:300px; height:300px; border-radius:50%; margin:auto; position:relative; display:flex; align-items:center; justify-content:center; background:conic-gradient(#00eaff, #7c4dff, #ff4edb, #00eaff); animation:rotate 15s linear infinite; }
        body.night-mode .ring { background:conic-gradient(#00ff41, #336600, #99ff33, #00cc00, #00ff41); }
        .ring::after{ content:""; position:absolute; inset:6px; background:var(--bg); border-radius:50%; }
        
        .logo{ position:absolute; width:220px; z-index:10; transition: 0.1s; }
        body.night-mode .logo { filter: drop-shadow(0 0 30px #00ff41); }
        @keyframes rotate{ from {transform:rotate(0)} to {transform:rotate(360deg)} }

        .bass-control { margin-top: 30px; background: rgba(56, 189, 248, 0.1); padding: 20px; border-radius: 20px; border: 1px solid var(--accent); }
        body.night-mode .bass-control { background: rgba(0,255,65,0.1); }
        .bass-slider { width: 100%; cursor: pointer; accent-color: var(--accent); }

        .tracks-scroll{ height:75vh; overflow-y:auto; padding-right:15px; }
        .track{ background:var(--card); padding:20px; border-radius:20px; margin-bottom:15px; border:1px solid rgba(255,255,255,0.05); transition:0.3s; }
        .track:hover{ border-color:var(--accent); transform:translateX(8px); }
        .track h4{ margin:0 0 12px 0; color:var(--accent); }
        
        audio{ width:100%; filter: invert(100%) hue-rotate(180deg); height: 35px; }
        body.night-mode audio { filter: invert(0%) hue-rotate(90deg) brightness(1.5); }
        
        .mode-toggle {
            background: var(--accent); color: #000; border: none; padding: 10px 15px;
            border-radius: 20px; cursor: pointer; font-weight: bold; box-shadow: var(--glow);
        }

        @media(max-width:900px){ .main-content{ grid-template-columns:1fr; } .viz-box{ position:relative; top:0; } }
    </style>
</head>
<body>

<div class="matrix-overlay"><canvas id="matrixCanvas"></canvas></div>

<header>
    <a href="index.html" class="back-link">‚Üê ORQAGA</a>
    <button class="mode-toggle" id="modeToggle">NIGHT MODE OFF</button>
</header>

<div class="main-content">
    <div class="viz-box">
        <div class="ring" id="ring"><img src="logo.png" class="logo" id="logo"></div>
        <h3 id="track-name">Musiqani tanlang</h3>
        <div class="bass-control">
            <label>BASS BOOST: <span id="bass-value">0 dB</span></label>
            <input type="range" id="bass-slider" class="bass-slider" min="0" max="25" value="0">
        </div>
    </div>

    <div class="tracks-scroll">
        <div class="track"><h4>Shakh Bass 1</h4><audio controls class="audio" data-n="Shakh Bass 1"><source src="music1.mp3"></audio></div>
        <div class="track"><h4>Shakh Bass 2</h4><audio controls class="audio" data-n="Shakh Bass 2"><source src="music2.mp3"></audio></div>
        <div class="track"><h4>Shakh Bass 3</h4><audio controls class="audio" data-n="Sh